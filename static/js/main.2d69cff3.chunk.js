(this["webpackJsonpnew-react"]=this["webpackJsonpnew-react"]||[]).push([[0],{16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(8),a=c.n(s),r=c(7),i=c.n(r),o=c(10),u=c(2),l=c(9),j=c(4),d=(c(16),c(0));function b(e){var t=e.likes,c=e.image,n=e.userImg,s=e.updatedAt;return Object(d.jsxs)("div",{className:"img",children:[Object(d.jsx)("img",{src:c,alt:"s"}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("img",{src:n,alt:"s"}),Object(d.jsx)("span",{children:s}),Object(d.jsxs)("p",{children:["Likes: ",t]})]})]})}function p(){return Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("h2",{children:"Loading...."})})}var h="?client_id=".concat("nLEPyjNGvZS12M6eUrJ0ozaIpQpCNRH5vXRdssymP0c"),O="https://api.unsplash.com/photos/",m="https://api.unsplash.com/search/photos/";var f=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(j.a)(a,2),f=r[0],v=r[1],g=Object(n.useState)(0),x=Object(j.a)(g,2),w=x[0],y=x[1],k=Object(n.useState)(""),S=Object(j.a)(k,2),E=S[0],N=S[1];function L(){return(L=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t=O+h+"&page=".concat(w),""!==E&&(t=m+h+"&page=".concat(w)+"&query=".concat(E)),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,s(w>0&&""===E?[].concat(Object(u.a)(c),Object(u.a)(a)):w>0&&""!==E?[].concat(Object(u.a)(c),Object(u.a)(a.results)):""!==E?a.results:a),setTimeout((function(){v(!1)}),4e3),console.log(a),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),v(!1);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){L.apply(this,arguments)}()}),[w]),Object(n.useEffect)((function(){var e=window.addEventListener("scroll",(function(){var e=window.scrollY+window.innerHeight,t=document.body.scrollHeight-3;(window.pageYOffset||document.documentElement.scrollTop)>0&&!1===f&&e>=t&&(y((function(e){return e+1})),v(!0))}));return window.removeEventListener("scroll",e)}),[]);var I=0===c.length?Object(d.jsx)(p,{}):c.map((function(e,t){var c=e.likes,n=e.urls.small,s=e.user,a=s.updated_at,r={likes:c,image:n,userImg:s.profile_image.medium,updatedAt:a};return Object(d.jsx)(b,Object(o.a)({},r),t)}));return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("header",{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(0)},children:[Object(d.jsx)("input",{type:"text",placeholder:"Search image",value:E,onChange:function(e){N(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Search"})]})}),Object(d.jsx)("main",{className:"grid",children:I}),f&&Object(d.jsx)(p,{})]})};a.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2d69cff3.chunk.js.map